{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\web11\\\\Desktop\\\\Realtor-Client\\\\realtorApp\\\\src\\\\componentsInUse\\\\gallery\\\\gallery.jsx\";\nimport React from 'react';\nimport BuildApartment from \"./buildApartment\";\nimport Form from \"../forms/form\";\n\nclass Gallery extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.searchApartmentByCity = () => {\n      let newArray = this.state.arrayCity;\n\n      if (this.state.city) {\n        newArray = newArray.filter(city => city[\"label\"].toLowerCase().includes(this.state.city));\n        console.log(\"list\", newArray);\n      }\n\n      this.setState({\n        apartmentArray: newArray\n      });\n    };\n\n    this.handleChange = e => {\n      e.preventDefault();\n      let _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n      this.setState({\n        [name]: value.toLowerCase()\n      }, () => {\n        this.createFilter();\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n    };\n\n    this.state = {\n      apartmentArray: this.props.apartmentArray,\n      city: '',\n      price: '',\n      address: '',\n      number_of_beds: '',\n      number_of_rooms: '',\n      listingStatus: ''\n    };\n  }\n\n  createFilter() {\n    const _this$state = this.state,\n          address = _this$state.address,\n          price = _this$state.price,\n          number_of_beds = _this$state.number_of_beds,\n          number_of_rooms = _this$state.number_of_rooms,\n          listingStatus = _this$state.listingStatus;\n    let newList = this.state.apartmentArray;\n\n    if (address) {\n      console.log(address);\n      newList = newList.filter(apartment => apartment[\"address\"].toLowerCase().includes(address));\n      console.log(\"list\", newList);\n    }\n\n    if (price) {\n      let priceMin = parseInt(price.slice(0, price.indexOf('-')));\n      let priceMax = parseInt(price.slice(price.indexOf('-') + 1));\n      newList = newList.filter(apartment => priceMax >= apartment[\"price\"] && priceMin < apartment[\"price\"]);\n    }\n\n    if (number_of_beds) {\n      newList = newList.filter(apartment => apartment[\"number_of_beds\"] === parseInt(number_of_beds));\n    }\n\n    if (number_of_rooms) {\n      newList = newList.filter(apartment => apartment[\"number_of_rooms\"] === parseInt(number_of_rooms));\n    }\n\n    if (listingStatus) {\n      newList = newList.filter(apartment => apartment[listingStatus] === true);\n    }\n\n    this.setState({\n      apartmentArray: newList\n    });\n  }\n\n  render() {\n    // console.log(\"this.state.apartmentArray\", this.state.apartmentArray)\n    return React.createElement(\"div\", {\n      className: \"row justify-content-between wrap-img-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onSubmit: this.onSubmit,\n      handleChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), this.state.apartmentArray.map((apartment, i) => React.createElement(BuildApartment, Object.assign({}, apartment, {\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default Gallery;","map":{"version":3,"sources":["C:/Users/web11/Desktop/Realtor-Client/realtorApp/src/componentsInUse/gallery/gallery.jsx"],"names":["React","BuildApartment","Form","Gallery","Component","constructor","props","searchApartmentByCity","newArray","state","arrayCity","city","filter","toLowerCase","includes","console","log","setState","apartmentArray","handleChange","e","preventDefault","target","name","value","createFilter","onSubmit","price","address","number_of_beds","number_of_rooms","listingStatus","newList","apartment","priceMin","parseInt","slice","indexOf","priceMax","render","map","i"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport BuildApartment from \"./buildApartment\";\r\nimport Form from \"../forms/form\";\r\n\r\nclass Gallery extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            apartmentArray: this.props.apartmentArray,\r\n            city: '',\r\n            price: '',\r\n            address: '',\r\n            number_of_beds: '',\r\n            number_of_rooms: '',\r\n            listingStatus: ''\r\n        };\r\n    }\r\n\r\n    searchApartmentByCity = () => {\r\n        let newArray = this.state.arrayCity;\r\n        if (this.state.city) {\r\n            newArray = newArray.filter(city => city[\"label\"].toLowerCase().includes(this.state.city));\r\n            console.log(\"list\", newArray);\r\n        }\r\n        this.setState({apartmentArray: newArray});\r\n    };\r\n\r\n    createFilter() {\r\n        const {address, price, number_of_beds, number_of_rooms, listingStatus} = this.state;\r\n        let newList = this.state.apartmentArray;\r\n        if (address) {\r\n            console.log(address);\r\n            newList = newList.filter(apartment => apartment[\"address\"].toLowerCase().includes(address));\r\n            console.log(\"list\", newList);\r\n        }\r\n        if (price) {\r\n            let priceMin = parseInt(price.slice(0, price.indexOf('-')));\r\n            let priceMax = parseInt(price.slice(price.indexOf('-') + 1));\r\n            newList = newList.filter(apartment => priceMax >= apartment[\"price\"] && priceMin < apartment[\"price\"]);\r\n        }\r\n        if (number_of_beds) {\r\n            newList = newList.filter(apartment => (apartment[\"number_of_beds\"] === parseInt(number_of_beds)));\r\n        }\r\n        if (number_of_rooms) {\r\n            newList = newList.filter(apartment => (apartment[\"number_of_rooms\"] === parseInt(number_of_rooms)));\r\n        }\r\n        if (listingStatus) {\r\n            newList = newList.filter(apartment => (apartment[listingStatus] === true));\r\n        }\r\n        this.setState({apartmentArray: newList});\r\n    };\r\n\r\n    handleChange = (e) => {\r\n        e.preventDefault();\r\n        let {name, value} = e.target;\r\n        this.setState({\r\n            [name]: value.toLowerCase(),\r\n        }, () => {\r\n            this.createFilter();\r\n        });\r\n    };\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n    };\r\n\r\n    render() {\r\n        // console.log(\"this.state.apartmentArray\", this.state.apartmentArray)\r\n        return (\r\n            <div className={\"row justify-content-between wrap-img-div\"}>\r\n                <Form onSubmit={this.onSubmit}\r\n                      handleChange={this.handleChange}\r\n                />\r\n                {this.state.apartmentArray.map((apartment, i) =>\r\n                    <BuildApartment {...apartment} key={i}/>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Gallery;\r\n"]},"metadata":{},"sourceType":"module"}